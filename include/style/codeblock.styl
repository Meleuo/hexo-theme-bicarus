/* ---------------------------------
 *          Code Highlight
 * --------------------------------- */
$codeblock-caption-bg ?= rgba(200, 200, 200, .15)

figure.highlight
    background: #1e1e1e
    border: 1px solid #333
    border-radius: 4px
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2)
    margin-bottom: 1rem
    padding: 0
    width: 100%
    position: relative
    margin: 1em 0 1em !important

    &.folded
        .highlight-body
            height: 0

    .copy
        opacity: .7

    pre, table tr:hover
        color: inherit
        background: transparent

    table
        width: auto

        tr td
            border: none

        tr:not(:first-child) td
            padding-top: 0

        tr:not(:last-child) td
            padding-bottom: 0

    .hljs
        color: #e7e7e7
        background: #000000

    .hljs-keyword
        color: #569cd6

    .hljs-string
        color: #ce9178

    .hljs-comment
        color: #6a9955

    .hljs-function
        color: #dcdcaa

    .hljs-number
        color: #b5cea8

    .hljs-class
        color: #4ec9b0

    .hljs-variable
        color: #9cdcfe

    .hljs-operator
        color: #d4d4d4

    .hljs-built_in
        color: #4ec9b0

    .hljs-property
        color: #9cdcfe

    pre
        padding: 0
        overflow: visible
        background-color: transparent

        .line, code .hljs
            line-height: 1.5rem

    figcaption
        background: #252525
        padding: 0.3em 0.75em
        text-align: left
        font-size: 0.8em
        color: #e4e4e4
        border-bottom: 1px solid #333
        border-radius: 4px 4px 0 0
        margin: 0 !important

        *
            color: inherit

        span
            font-weight: 500
            font-family: $family-code

        .level-left *:not(:last-child)
            margin-right: .5em

        .level-right *:not(:first-child)
            margin-left: .5em

        .fold
            margin-right: 0.75em
            cursor: pointer

        &.level
            overflow: auto

            .level-right
                a
                    padding: 0em .75em

    .highlight-body
        background: #1e1e1e
        border-radius: 0 0 4px 4px
        overflow: hidden

    .gutter
        background: #252525
        border-right: 1px solid #333
        padding: 0.3em 0.5em
        color: #7a7a7a
        user-select: none

        pre
            color: #7a7a7a
            background: transparent

    .code
        width: 100%

        pre
            padding: 0 0.75em
            color: #e7e7e7
            background: transparent

figure.highlight.foldable
  div.level-left
    cursor: pointer  // clicking the codeblock filename can toggle folding 

/* ---------------------------------
 *        Fix Gist Snippet
 * --------------------------------- */
.gist
    table
        tr:hover
            background: transparent

        td
            border: none

    .file
        all: initial
